# 更新日志

---

## 0.5.2 - 2021-03-29

### 修改

- 路径分隔符统一改用第三方库`slash`实现

## 0.5.1 - 2021-03-25

### 修复

- 修复了在`node`工程外会因找不到根目录报错的问题
- 修复无压缩数据时计算显示`NaN`的bug

## 0.5.0 - 2021-03-25

### 新增

- 新增压缩统计
- 新增头部logo

### 修改

- 暴露`readLog`方法读取日志
- 修改压缩日志文件名

### 修复

- 方法注释类型错误

## 0.4.6 - 2021-03-24

### 修复

- 提示语错误修复

## 0.4.5 - 2021-03-24

### 修复

- 修复`node`版本检查运行前会出现语法报错的bug

## 0.4.4 - 2021-03-24

### 修复

- 修复`log`方法运行错误的bug

## 0.4.3 - 2021-03-24

### 新增

- 新增版本升级提醒

### 修改

- 重命名图片压缩日志文件名
- 日志存储位置从插件根目录移至工程根目录

## 0.4.2 - 2021-03-23

### 修复

- 修复png算法压缩率永远小于0的bug

## 0.4.1 - 2021-03-23

### 修改

- 补充`REAMME.md`中命令行使用方法与新方法示例

### 修复

- 修复备份源文件放置位置错误的bug
- 修复压缩质量`quality`设置无效的bug
- 修复文件夹内遇到无法解析文件类型的文件程序报错的bug

## 0.4.0 - 2021-03-23

### 新增

- 新增可执行命令`kuma-imagemin`
- 新增方法`log`，添加压缩日志
- 新增方法`isMin`，判断一个文件是否已经被压缩（依赖日志记录）
- 新增方法`resetByOrigin`，用备份源文件还原压缩后的文件

### 修改

- 优化压缩提示
- 补充方法注释

### 修复

- 注释入参类型大小写不一致

## 0.3.1 - 2021-03-22

### 新增

- 新增记录压缩文件的`md5`，避免重复压缩同一文件
- 新增方法`clearOrigin`，允许删除备份源文件
- 新增方法`clearLog`，删除`md5`记录

### 修改

- `png`、`jpg`压缩方法改为传入源数据而不是路径，使方法更通用
- 压缩文件夹加入2个参数，满足更多情况

### 修复

- 修复压缩文件夹显示文件路径以插件为根路径的问题

## 0.2.1 - 2021-03-22

### 修复

- 修复`pngquant`引入包名错误

## 0.2.0 - 2021-03-21

### 修复

- 重新打包`png`核心，优化导入方式，更新核心算法至最新版

## 0.1.0 - 2021-03-19

### 新增

- jpg 压缩功能
- png 压缩功能
- 文件夹压缩功能
